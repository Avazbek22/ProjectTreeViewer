<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:DevProjex.Avalonia.ViewModels"
             x:Class="DevProjex.Avalonia.Views.ThemePopoverView"
             x:DataType="vm:MainWindowViewModel">
  <Border Classes="theme-popover" Padding="14" MinWidth="300">
    <StackPanel Spacing="12">
      <!-- Theme selection row -->
      <StackPanel Spacing="4">
        <TextBlock Classes="popover-section-title" Text="{Binding ThemeModeLabel}" FontSize="12"/>
        <StackPanel Orientation="Horizontal" Spacing="16">
          <CheckBox Content="{Binding ThemeLightLabel}"
                    IsChecked="{Binding IsLightTheme, Mode=OneWay}"
                    Click="OnSetLightThemeCheckbox" />
          <CheckBox Content="{Binding ThemeDarkLabel}"
                    IsChecked="{Binding IsDarkTheme, Mode=OneWay}"
                    Click="OnSetDarkThemeCheckbox" />
        </StackPanel>
      </StackPanel>

      <!-- Effects mode row -->
      <StackPanel Spacing="4">
        <TextBlock Classes="popover-section-title" Text="{Binding ThemeEffectsLabel}" FontSize="12"/>
        <StackPanel Orientation="Horizontal" Spacing="16">
          <CheckBox Content="{Binding ThemeTransparentLabel}"
                    IsChecked="{Binding IsTransparentEnabled, Mode=OneWay}"
                    Click="OnSetTransparentMode" />
          <CheckBox Content="{Binding ThemeMicaLabel}"
                    IsChecked="{Binding IsMicaEnabled, Mode=OneWay}"
                    Click="OnSetMicaMode" />
          <CheckBox Content="{Binding ThemeAcrylicLabel}"
                    IsChecked="{Binding IsAcrylicEnabled, Mode=OneWay}"
                    Click="OnSetAcrylicMode" />
        </StackPanel>
      </StackPanel>

      <!-- Effect sliders - only visible when any effect is active -->
      <StackPanel Spacing="6" IsVisible="{Binding ShowTransparencySliders}">
        <Separator Margin="0,2" />
        <!-- Material Intensity - single slider controlling overall effect strength -->
        <StackPanel Spacing="2">
          <TextBlock Text="{Binding ThemeMaterialIntensity}" FontSize="12" FontWeight="SemiBold" Margin="0,4,0,-14"/>
          <Slider Minimum="0" Maximum="100" Value="{Binding MaterialIntensity}" />
        </StackPanel>
        <!-- Blur slider - only visible in Transparent mode -->
        <StackPanel Spacing="2" IsVisible="{Binding ShowBlurSlider}">
          <TextBlock Text="{Binding ThemeBlurRadius}" FontSize="12" Margin="0,4,0,-14"/>
          <Slider Minimum="0" Maximum="100" Value="{Binding BlurRadius}" />
        </StackPanel>
        <!-- Panel Contrast -->
        <StackPanel Spacing="2">
          <TextBlock Text="{Binding ThemePanelContrast}" FontSize="12" Margin="0,4,0,-14"/>
          <Slider Minimum="0" Maximum="100" Value="{Binding PanelContrast}" />
        </StackPanel>
        <!-- Menu Child Intensity -->
        <StackPanel Spacing="2">
          <TextBlock Text="{Binding ThemeMenuChildIntensity}" FontSize="12" Margin="0,4,0,-14"/>
          <Slider Minimum="0" Maximum="100" Value="{Binding MenuChildIntensity}" />
        </StackPanel>
      </StackPanel>

      <!-- Border slider - always visible -->
      <StackPanel Spacing="6">
        <Separator Margin="0,2" IsVisible="{Binding !ShowTransparencySliders}" />
        <StackPanel Spacing="2">
          <TextBlock Text="{Binding ThemeBorderStrength}" FontSize="12" Margin="0,4,0,-14"/>
          <Slider Minimum="0" Maximum="100" Value="{Binding BorderStrength}" />
        </StackPanel>
      </StackPanel>
    </StackPanel>
  </Border>
</UserControl>
